{"version":3,"sources":["redux/Auth/authOperarions.js","redux/contacts/operations.js","components/Navigation/Navigation.module.css","components/AuthNav/AuthNav.module.css","components/UserMenu/UserMenu.module.css","redux/contacts/actions.js","components/Container/Container.module.css","components/AppBar/AppBar.module.css","components/Container/Container.js","redux/Auth/authSelectors.js","components/Navigation/Navigation.js","components/UserMenu/default-avatar.png","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","components/Routs/PrivateRout.js","components/Routs/PublicRoute.js","components/App/App.js","redux/contacts/reducer.js","redux/Auth/authSlice.js","redux/store.js","index.js"],"names":["axios","defaults","baseURL","token","headers","common","Authorization","registerUser","createAsyncThunk","credentials","a","post","data","loginUser","console","log","logoutUser","refreshUser","_","thunkAPI","state","getState","persistedToken","auth","rejectWithValue","get","fetchContactOperacion","addContactOperacion","contact","deleteContactOperacion","id","delete","module","exports","changeFilter","createAction","Container","children","className","style","getIsLoggedIn","isLoggedIn","getUsername","user","name","getIsBeingLoggedIn","isBeingLoggedIn","Navigation","useSelector","authSelectors","to","exact","styles","link","activeClassName","activeLink","UserMenu","dispatch","useDispatch","avatar","defaultAvatar","container","src","alt","width","type","onClick","authOperations","AuthNav","AppBar","header","PrivateRoute","redirectTo","routeProps","PublicRoute","restricted","routePops","shouldRedirect","HomeView","lazy","RegisterView","ContactsView","LoginView","App","useEffect","authOperetions","fallback","path","items","createReducer","fulfilled","payload","filter","itemsError","rejected","pending","actions","combineReducers","authSlice","createSlice","initialState","email","error","extraReducers","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authUserReducer","contacts","contactsReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.84a700d2.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\n\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = \"\";\n  },\n};\n\nexport const registerUser = createAsyncThunk(\n  \"auth/register\",\n  async (credentials) => {\n    try {\n      const { data } = await axios.post(\"/users/signup\", credentials);\n      token.set(data.token);\n      return data;\n    } catch (error) {}\n  }\n);\nexport const loginUser = createAsyncThunk(\"auth/login\", async (credentials) => {\n  try {\n    const { data } = await axios.post(\"/users/login\", credentials);\n    token.set(data.token);\n    console.log(data);\n    return data;\n  } catch (error) {}\n});\n\nexport const logoutUser = createAsyncThunk(\"auth/logout\", async () => {\n  try {\n    const { data } = await axios.post(\"/users/logout\");\n    token.unset();\n    return data;\n  } catch (error) {}\n});\n\nexport const refreshUser = createAsyncThunk(\n  \"auth/refresh\",\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState();\n    const persistedToken = state.auth.token;\n    // console.log(thunkAPI.getState());\n    if (persistedToken === null) {\n      return thunkAPI.rejectWithValue();\n    }\n    token.set(persistedToken);\n    try {\n      const { data } = await axios.get(\"/users/current\");\n      return data;\n    } catch (error) {}\n  }\n);\n","import axios from \"axios\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\n\nexport const fetchContactOperacion = createAsyncThunk(\n  \"contacts/fetch\",\n  async () => {\n    const { data } = await axios.get(\"/contacts\");\n    return data;\n  }\n);\n\nexport const addContactOperacion = createAsyncThunk(\n  \"contacts/add\",\n  async (contact) => {\n    const { data } = await axios.post(\"/contacts\", contact);\n    return data;\n  }\n);\n\nexport const deleteContactOperacion = createAsyncThunk(\n  \"contacts/delete\",\n  async (id) => {\n    await axios.delete(`/contacts/${id}`);\n    return id;\n  }\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__2glVu\",\"activeLink\":\"Navigation_activeLink__3tMRY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__3EktM\",\"activeLink\":\"AuthNav_activeLink__3wRUI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__1jj6k\",\"avatar\":\"UserMenu_avatar__Pa_NK\",\"name\":\"UserMenu_name__3MfHO\"};","import { createAction } from \"@reduxjs/toolkit\";\n\nexport const changeFilter = createAction(\"contacts/changeFilter\");\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__1aOfl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__G8rcv\"};","import React from \"react\";\nimport style from \"./Container.module.css\";\n\nconst Container = ({ children }) => (\n  <div className={style.Container}>{children}</div>\n);\n\nexport default Container;\n","export const getIsLoggedIn = (state) => state.auth.isLoggedIn;\n\nexport const getUsername = (state) => state.auth.user.name;\n\nexport const getIsBeingLoggedIn = (state) => state.auth.isBeingLoggedIn;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport * as authSelectors from \"../../redux/Auth/authSelectors\";\nimport styles from \"./Navigation.module.css\";\n\nfunction Navigation() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n\n  return (\n    <nav>\n      <NavLink\n        to=\"/\"\n        exact\n        className={styles.link}\n        activeClassName={styles.activeLink}\n      >\n        Главная\n      </NavLink>\n\n      {isLoggedIn && (\n        <NavLink\n          to=\"/contacts\"\n          exact\n          className={styles.link}\n          activeClassName={styles.activeLink}\n        >\n          Контакты\n        </NavLink>\n      )}\n    </nav>\n  );\n}\n\nexport default Navigation;\n","export default __webpack_public_path__ + \"static/media/default-avatar.e44fc4e2.png\";","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport * as authSelectors from \"../../redux/Auth/authSelectors\";\nimport * as authOperations from \"../../redux/Auth/authOperarions\";\nimport defaultAvatar from \"./default-avatar.png\";\nimport styles from \"./UserMenu.module.css\";\n\nfunction UserMenu() {\n  const name = useSelector(authSelectors.getUsername);\n  const dispatch = useDispatch();\n  const avatar = defaultAvatar;\n\n  return (\n    <div className={styles.container}>\n      <img src={avatar} alt=\"\" width=\"32\" className={styles.avatar} />\n      <span className={styles.name}>Welcome, {name}</span>\n      <button\n        type=\"button\"\n        onClick={() => dispatch(authOperations.logoutUser())}\n      >\n        Logout\n      </button>\n    </div>\n  );\n}\nexport default UserMenu;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport styles from \"./AuthNav.module.css\";\n\nconst AuthNav = () => (\n  <div>\n    <NavLink\n      to=\"/register\"\n      exact\n      className={styles.link}\n      activeClassName={styles.activeLink}\n    >\n      Регистрация\n    </NavLink>\n    <NavLink\n      to=\"/login\"\n      exact\n      className={styles.link}\n      activeClassName={styles.activeLink}\n    >\n      Логин\n    </NavLink>\n  </div>\n);\n\nexport default AuthNav;\n","import Navigation from \"../Navigation/Navigation\";\nimport { useSelector } from \"react-redux\";\nimport * as authSelectors from \"../../redux/Auth/authSelectors\";\nimport UserMenu from \"../UserMenu/UserMenu\";\nimport AuthNav from \"../AuthNav/AuthNav\";\nimport styles from \"./AppBar.module.css\";\n\nfunction AppBar() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n\n  return (\n    <header className={styles.header}>\n      <Navigation />\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\n    </header>\n  );\n}\nexport default AppBar;\n","import { Route, Redirect } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport * as authSelectors from \"../../redux/Auth/authSelectors\";\n\nexport default function PrivateRoute({\n  children,\n  redirectTo = \"/\",\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n}\n","import { Route, Redirect } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport * as authSelectors from \"../../redux/Auth/authSelectors\";\n\nexport default function PublicRoute({\n  children,\n  restricted = false,\n  redirectTo = \"/\",\n  ...routePops\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  const shouldRedirect = isLoggedIn && restricted;\n  return (\n    <Route {...routePops}>\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  );\n}\n","import { lazy, Suspense } from \"react\";\nimport { Switch, Redirect } from \"react-router-dom\";\n\nimport Container from \"../Container/Container\";\nimport AppBar from \"../AppBar/AppBar\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport * as authOperetions from \"../../redux/Auth/authOperarions\";\nimport * as authSelectors from \"../../redux/Auth/authSelectors\";\nimport PrivateRoute from \"../Routs/PrivateRout\";\nimport PublicRoute from \"../Routs/PublicRoute\";\n\nconst HomeView = lazy(() =>\n  import(\"../../views/HomeView/HomeView.js\" /* webpackChunkName: \"HomeView\" */)\n);\nconst RegisterView = lazy(() =>\n  import(\n    \"../../views/RegisterView/RegisterView.js\" /* webpackChunkName: \"RegisterView\" */\n  )\n);\nconst ContactsView = lazy(() =>\n  import(\n    \"../../views/ContactsView/ContactsView.js\" /* webpackChunkName: \"ContactsView\" */\n  )\n);\nconst LoginView = lazy(() =>\n  import(\n    \"../../views/LoginView/LoginView.js\" /* webpackChunkName: \"LoginView\" */\n  )\n);\n\nfunction App() {\n  const dispatch = useDispatch();\n  const isBeingLoggedIn = useSelector(authSelectors.getIsBeingLoggedIn);\n\n  useEffect(() => {\n    dispatch(authOperetions.refreshUser());\n  }, [dispatch]);\n\n  return (\n    !isBeingLoggedIn && (\n      <Container>\n        <AppBar />\n        <Suspense fallback={<h1>LOADING...</h1>}>\n          <Switch>\n            <PublicRoute path=\"/\" exact>\n              <HomeView />\n            </PublicRoute>\n            <PublicRoute path=\"/register\" restricted>\n              <RegisterView />\n            </PublicRoute>\n            <PublicRoute path=\"/login\" restricted redirectTo=\"/contacts\">\n              <LoginView />\n            </PublicRoute>\n            <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n              <ContactsView />\n            </PrivateRoute>\n            <Redirect to=\"/\" />\n          </Switch>\n        </Suspense>\n      </Container>\n    )\n  );\n}\n\nexport default App;\n","import { combineReducers } from \"redux\";\nimport { createReducer } from \"@reduxjs/toolkit\";\nimport * as actions from \"./actions\";\nimport {\n  addContactOperacion,\n  deleteContactOperacion,\n  fetchContactOperacion,\n} from \"./operations\";\n\nconst items = createReducer([], {\n  [addContactOperacion.fulfilled]: (state, { payload }) => [...state, payload],\n  [deleteContactOperacion.fulfilled]: (state, { payload }) =>\n    state.filter(({ id }) => id !== payload),\n  [fetchContactOperacion.fulfilled]: (_, { payload }) => payload,\n});\n\nconst itemsError = createReducer(null, {\n  [addContactOperacion.rejected]: (_, { payload }) => payload,\n  [addContactOperacion.pending]: () => null,\n\n  [deleteContactOperacion.rejected]: (_, { payload }) => payload,\n  [deleteContactOperacion.pending]: () => null,\n\n  [fetchContactOperacion.rejected]: (_, { payload }) => payload,\n  [fetchContactOperacion.pending]: () => null,\n});\n\nconst filter = createReducer(\"\", {\n  [actions.changeFilter]: (_, { payload }) => payload,\n});\n\nexport default combineReducers({\n  items,\n  filter,\n  itemsError,\n});\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport * as authOperations from \"./authOperarions\";\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isBeingLoggedIn: false,\n  error: null,\n};\n\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  extraReducers: {\n    [authOperations.registerUser.fulfilled](state, { payload }) {\n      state.user = payload.user;\n      state.token = payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.loginUser.fulfilled](state, { payload }) {\n      state.user = payload.user;\n      state.token = payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.logoutUser.fulfilled](state, _) {\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoggedIn = false;\n    },\n    [authOperations.refreshUser.pending](state) {\n      state.isBeingLoggedIn = true;\n    },\n    [authOperations.refreshUser.fulfilled](state, { payload }) {\n      state.user = payload;\n      state.isLoggedIn = true;\n      state.isBeingLoggedIn = false;\n    },\n    [authOperations.refreshUser.rejected](state) {\n      state.isBeingLoggedIn = false;\n    },\n  },\n});\nexport default authSlice.reducer;\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\nimport logger from \"redux-logger\";\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\nimport contactsReducer from \"./contacts/reducer\";\nimport authUserReducer from \"./Auth/authSlice\";\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  logger,\n];\n\nconst authPersistConfig = {\n  key: \"auth\",\n  storage,\n  whitelist: [\"token\"],\n};\n\nexport const store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authUserReducer),\n    contacts: contactsReducer,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === \"development\",\n});\nexport const persistor = persistStore(store);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { store, persistor } from \"./redux/store\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}